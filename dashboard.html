<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripNext - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <!-- Header/Navigation -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <h1 class="text-2xl font-bold text-gray-800">TripNext</h1>
            </div>
            
            <div class="flex items-center space-x-4">
            
                <div id="userGreeting" class="hidden md:block"> </div>
                <button id="logoutBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">Sign out</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Hero Section with Search -->
        <section class="mb-12 text-center">
            
            
            <div class="bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto">
                <!-- Search Categories -->
                <div class="flex flex-wrap justify-center mb-6 border-b pb-4">
                    <button class="px-4 py-2 m-1 flex items-center space-x-2 border-b-2 border-orange-500 font-medium">
                        <i class="fas fa-search"></i>
                        <span>Search All</span>
                    </button>
                    <button class="px-4 py-2 m-1 flex items-center space-x-2 hover:text-orange-500">
                        <i class="fas fa-hotel"></i>
                        <span>Hotels</span>
                    </button>
                    
                    </button>
                    <button class="px-4 py-2 m-1 flex items-center space-x-2 hover:text-orange-500">
                        <i class="fas fa-utensils"></i>
                        <span>Restaurants</span>
                    </button>
                    <button class="px-4 py-2 m-1 flex items-center space-x-2 hover:text-orange-500">
                        <i class="fas fa-plane"></i>
                        <span>Flights</span>
                    </button>
                    
                </div>
                
                <!-- Search Bar -->
                <div class="flex flex-col md:flex-row">
                    <div class="flex-grow">
                        <input type="text" id="searchInput" placeholder="Places to go, things to do, hotels..." 
                            class="w-full p-4 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
                    </div>
                    <button id="searchDashboardBtn" class="bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-r-lg font-bold">
                        Search
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Trip Details Section (shows when search is performed) -->
        <section id="tripDetailsSection" class="mb-12 hidden">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                <div class="bg-orange-500 text-white p-4">
                    <h3 class="text-xl font-bold">Your Trip Details</h3>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <h4 class="font-bold text-gray-700 mb-2">From</h4>
                            <p id="tripSourceDisplay" class="text-lg"></p>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-700 mb-2">To</h4>
                            <p id="tripDestinationDisplay" class="text-lg"></p>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-700 mb-2">Dates</h4>
                            <p id="tripDatesDisplay" class="text-lg"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Popular Destinations -->
        <section>
            <h3 class="text-2xl font-bold mb-6">Popular Destinations</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Kerala Card -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('Kerala.jpg')"></div>
                    <div class="p-4">
                        <h4 class="font-bold text-xl mb-2">Kerala</h4>
                        <p class="text-gray-700 mb-4">Known as "God's Own Country," Kerala is famous for its lush greenery, serene backwaters, and diverse wildlife. This southwestern state is a haven for nature lovers and adventure seekers alike. With its rich cultural heritage, traditional dance forms like Kathakali, and delectable cuisine, Kerala offers a unique and enchanting experience for every traveler.</p>
                        <div class="flex justify-between items-center">
                            <div class="text-sm text-gray-600">Popular for: Arts, Culture, Food</div>
                            <a href="#" class="text-orange-500 hover:text-orange-600">Explore</a>
                        </div>
                    </div>
                </div>
                
                <!-- Agra Card -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('Agra.jpg')"></div>
                    <div class="p-4">
                        <h4 class="font-bold text-xl mb-2">Agra</h4>
                        <p class="text-gray-700 mb-4">Did you know? Agra is home to the magnificent Taj Mahal, one of the Seven Wonders of the World. Built by Emperor Shah Jahan in memory of his beloved wife Mumtaz Mahal, this marble masterpiece attracts millions of visitors each year. Agraâ€™s rich history, stunning Mughal architecture, and vibrant culture make it a must-visit destination!</p>
                        <div class="flex justify-between items-center">
                            <div class="text-sm text-gray-600">Popular for: Technology, Shopping, Cuisine</div>
                            <a href="#" class="text-orange-500 hover:text-orange-600">Explore</a>
                        </div>
                    </div>
                </div>
                
                <!-- Mumbai Card -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('Mumbai.jpg')"></div>
                    <div class="p-4">
                        <h4 class="font-bold text-xl mb-2">Mumbai</h4>
                        <p class="text-gray-700 mb-4">Mumbai, the financial capital of India, is known for its fast-paced lifestyle, iconic landmarks like the Gateway of India, and Bollywood, the world's largest film industry. From bustling markets to serene marine drives, Mumbai offers a dynamic mix of culture, history, and modernity.</p>
                        <div class="flex justify-between items-center">
                            <div class="text-sm text-gray-600">Popular for: Entertainment, Museums, Skyline</div>
                            <a href="#" class="text-orange-500 hover:text-orange-600">Explore</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <script type="module">
        // Import Firebase Modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
        import {
            getAuth,
            onAuthStateChanged,
            signOut,
        } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";




        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyAA5SAzBOguCIBwr6U9Lw-SGwH5Z90oe0s",
            authDomain: "travel-website-login-page.firebaseapp.com",
            projectId: "travel-website-login-page",
            storageBucket: "travel-website-login-page.appspot.com",
            messagingSenderId: "455474636612",
            appId: "1:455474636612:web:7bddfe06b6e2d859589911",
            measurementId: "G-YJD8LYMXXL",
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Check if user is logged in
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // User is signed in, show email
                document.getElementById("userGreeting").innerText = Welcome, ${user.email};
                document.getElementById("userGreeting").classList.remove("hidden");
            } else {
                // No user is signed in, redirect to login page
                window.location.href = "index.html";
            }
        });

        // Logout function
        document.getElementById("logoutBtn").addEventListener("click", async function() {
            await signOut(auth);
            window.location.href = "index.html"; // Redirect to login page
        });
        
        // Check if there are trip details in localStorage
        document.addEventListener('DOMContentLoaded', function() {
            const source = localStorage.getItem('tripSource');
            const destination = localStorage.getItem('tripDestination');
            const dates = localStorage.getItem('tripDates');
            
            if (source && destination && dates) {
                // Display trip details section
                document.getElementById('tripDetailsSection').classList.remove('hidden');
                document.getElementById('tripSourceDisplay').innerText = source;
                document.getElementById('tripDestinationDisplay').innerText = destination;
                document.getElementById('tripDatesDisplay').innerText = dates;
                
                // Pre-fill search input with destination
                document.getElementById('searchInput').value = destination;
            }
            
            // Setup search button
            document.getElementById('searchDashboardBtn').addEventListener('click', function() {
                alert('Search functionality would be implemented here!');
            });
        });
    </script>
</body>
</html>
